(this.webpackJsonpweather_app=this.webpackJsonpweather_app||[]).push([[0],{50:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var s=a(2),c=a.n(s),i=a(22),n=a.n(i),r=a(5),l=a.n(r),d=a(7),o=a(3),j=a(1),b=a(11),m=a.n(b),h="https://cors-anywhere.herokuapp.com/",u=h+"https://www.metaweather.com/api/location/",p=function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,s,c,i,n=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:44418,e.next=3,m.a.get("".concat(u).concat(t));case 3:return a=e.sent,s=a.data,c=Object(j.a)({title:s.title},s.consolidated_weather[0]),s.consolidated_weather.shift(),i=s.consolidated_weather,e.abrupt("return",{currentDay:c,weekForecast:i});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(l.a.mark((function e(t){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://cors-anywhere.herokuapp.com/https://www.metaweather.com/api/location/search/",{params:{query:t}});case 2:if(0!==(a=e.sent).data.length){e.next=5;break}return e.abrupt("return",[{id:"404",name:"No matches"}]);case 5:return s=a.data.map((function(e){return{name:e.title,id:e.woeid}})),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(s.useState)(),t=Object(o.a)(e,2),a=t[0],c=t[1],i=Object(s.useState)({}),n=Object(o.a)(i,2),r=n[0],j=n[1],b=Object(s.useState)({}),m=Object(o.a)(b,2),h=m[0],u=m[1],x=Object(s.useState)(!0),v=Object(o.a)(x,2),O=v[0],f=v[1],g=function(){var e=Object(d.a)(l.a.mark((function e(){var t,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,p(a);case 4:t=e.sent,s=t.currentDay,c=t.weekForecast,j(s),u(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("Hey Error",e.t0);case 14:return e.prev=14,f(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){console.log("Location change to ",a),g()}),[a]),{currentDay:r,forecast:h,setLocation:c,isLoading:O}},O=a.p+"static/media/closeX.093da90d.svg",f=a.p+"static/media/lupa.c368655f.svg",g=a.p+"static/media/chevronR.eb5d9597.svg",y=a(0),w=function(e){var t=e.setLocation,a=Object(s.useRef)(null),c=Object(s.useState)([]),i=Object(o.a)(c,2),n=i[0],r=i[1],j=Object(s.useState)(!1),b=Object(o.a)(j,2),m=b[0],h=b[1],u=Object(s.useRef)(null),p=function(){var e=Object(d.a)(l.a.mark((function e(){var t,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r([]),h(!0),t=a.current.value,e.prev=3,e.next=6,x(t);case 6:s=e.sent,r(s),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("HEY ",e.t0);case 13:return e.prev=13,h(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{ref:u,className:"offcanvas offcanvas-start bg-dark p-3","data-bs-scroll":"true","data-bs-backdrop":"false",tabIndex:"-1",id:"locationSearchPanel",children:[Object(y.jsx)("div",{className:"offcanvas-header text-end flex-row-reverse",children:Object(y.jsx)("div",{type:"button",className:"","data-bs-dismiss":"offcanvas","aria-label":"Close",children:Object(y.jsx)("img",{src:O,alt:"Close",height:"25"})})}),Object(y.jsxs)("div",{className:"offcanvas-body",children:[Object(y.jsxs)("div",{className:"input-group position-relative align-items-center pb-5",children:[Object(y.jsx)("img",{src:f,className:"position-absolute search ms-2",width:"25",alt:"Search icon"}),Object(y.jsx)("input",{ref:a,type:"text",className:"form-control bg-dark text-light ps-5","aria-label":"Text input with segmented dropdown button",placeholder:"Location"}),Object(y.jsx)("button",{type:"button",onClick:p,className:"btn text-light",style:{background:"#3C47E9"},children:"Search"})]}),m&&Object(y.jsx)("div",{className:"text-center",children:Object(y.jsx)("div",{className:"spinner-border text-light fs-4",role:"status",style:{height:"2.5rem",width:"2.5rem"},children:Object(y.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),Object(y.jsx)("div",{className:"",children:n.map((function(e){return Object(y.jsxs)("div",{className:"p-3 d-flex match",onClick:function(){return a=e.id,void t(a);var a},children:[Object(y.jsx)("div",{className:"flex-grow-1",children:e.name}),Object(y.jsx)("img",{src:g,width:"15",alt:"Go"})]},e.id)}))})]})]})},N=a.p+"static/media/Sleet.d39a5b7f.svg",k=a.p+"static/media/Hail.831ff042.svg",S=a.p+"static/media/Thunderstorm.b757a57e.svg",_=a.p+"static/media/HeavyRain.0c40fed9.svg",L=a.p+"static/media/LightRain.e8838808.svg",C=a.p+"static/media/Showers.2d98cbcf.svg",E=a.p+"static/media/HeavyCloud.5030ee0b.svg",H=a.p+"static/media/LightCloud.cb911034.svg",F=a.p+"static/media/Clear.f7fd242b.svg",D=a.p+"static/media/Snow.15dbffd6.svg",M=function(e){return{sn:D,sl:N,h:k,t:S,hr:_,lr:L,s:C,hc:E,lc:H,c:F}[e]},W=a.p+"static/media/gps.4e6cb7a4.svg",R=a.p+"static/media/position.637860d9.svg",T=a(6),I=a.n(T),P=function(e){var t=e.today,a=e.isLoading,c=e.setLocation,i=Object(s.useState)(""),n=Object(o.a)(i,2),r=n[0],l=n[1];return Object(s.useEffect)((function(){if(!a){var e=t.weather_state_abbr,s=M(e);l(s)}}),[a]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"row py-4 g-0 text-center",children:[Object(y.jsx)("div",{className:"col",children:Object(y.jsx)("div",{className:"btn btn-primary shadow-lg text-light border-0","data-bs-toggle":"offcanvas","data-bs-target":"#locationSearchPanel","aria-controls":"offcanvasExample",type:"button",children:"Search for places"})}),Object(y.jsx)("div",{className:"col",children:Object(y.jsx)("div",{type:"button",className:"shadow-lg btn btn-primary btn-gps rounded-circle",children:Object(y.jsx)("img",{className:"gps-icon",src:W,alt:"Location"})})})]}),Object(y.jsxs)("div",{className:"d-flex min-vh-100 justify-content-evenly flex-column text-center",children:[Object(y.jsx)("div",{className:"icon img-fluid",children:a?Object(y.jsx)(I.a,{width:150,height:150}):Object(y.jsx)("img",{className:"img-fluid",width:"150",src:r,alt:"Actual Weather"})}),Object(y.jsx)("div",{className:"forecast lh-1",children:a?Object(y.jsx)(I.a,{height:130,width:220}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"today",children:t.the_temp.toFixed(1)}),Object(y.jsx)("span",{className:"h3 text-light",children:"\xb0C"})]})}),Object(y.jsx)("div",{className:"h2",children:a?Object(y.jsx)(I.a,{width:150}):t.weather_state_name}),a?Object(y.jsx)(I.a,{width:100}):Object(y.jsxs)("div",{className:"",children:["Today ",Object(y.jsx)("span",{children:"\u2022"})," ",t.applicable_date]}),Object(y.jsxs)("div",{className:"location",children:[Object(y.jsx)("img",{className:"me-2",src:R,width:"20",alt:"Icon Location"}),t.title||Object(y.jsx)(I.a,{width:25})]})]}),Object(y.jsx)(w,{setLocation:c})]})},A=a(56),J=function(e){var t=e.day,a=Object(s.useState)(M(t.weather_state_abbr)),c=Object(o.a)(a,1)[0];return Object(y.jsxs)("div",{className:"card bg-dark forecast text-center m-2 mx-lg-1 p-3",children:[Object(y.jsx)("div",{className:"fw-500 fs-6 text-light",children:Object(A.a)(new Date(t.applicable_date),"E, d MMM")}),Object(y.jsx)("div",{className:"my-3",children:Object(y.jsx)("img",{src:c,width:"45",alt:t.weather_state_name,className:"img-fluid"})}),Object(y.jsxs)("div",{className:"fw-500 fs-6",children:[Object(y.jsxs)("span",{className:"text-light me-2",children:[Math.round(t.max_temp),"\xb0C"]}),Object(y.jsxs)("span",{className:"lightgray ms-2",children:[Math.round(t.min_temp),"\xb0C"]})]})]})},q=function(e){var t=e.type,a=e.number,s=e.unit;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"",children:t}),Object(y.jsxs)("div",{className:"measure",children:[Object(y.jsx)("span",{className:"number",children:a}),Object(y.jsx)("span",{className:"type",children:s})]}),"Wind"===t&&Object(y.jsxs)("div",{children:[Object(y.jsx)("img",{src:"",alt:"Compass"}),"WSW"]}),"Humidity"===t&&Object(y.jsxs)("div",{className:"px-4",children:[Object(y.jsxs)("div",{className:"indicators d-flex justify-content-between",children:[Object(y.jsx)("div",{className:"lightgray bottom-20",children:"0"}),Object(y.jsx)("div",{className:"lightgray bottom-20 middle",children:"50"}),Object(y.jsx)("div",{className:"lightgray bottom-20 end",children:"100"})]}),Object(y.jsx)("div",{className:"progress rounded-pill overflow-visible",children:Object(y.jsx)("div",{className:"progress-bar rounded-pill progress-bar-striped bg-warning",role:"progressbar",style:{width:a+"%"},"aria-valuemin":"0","aria-valuemax":"100"})}),Object(y.jsx)("div",{className:"indicators text-end",children:Object(y.jsx)("div",{className:"lightgray bottom-20",children:"%"})})]})]})},B=function(e){var t=e.isLoading,a=e.today,c=e.forecast,i=Object(s.useState)([]),n=Object(o.a)(i,2),r=n[0],l=n[1];return Object(s.useEffect)((function(){t||l([{type:"Wind",number:a.wind_speed.toFixed(0),unit:"mph"},{type:"Humidity",number:a.humidity,unit:"%"},{type:"Visibility",number:a.visibility.toFixed(1),unit:"miles"},{type:"Air Pressure",number:a.air_pressure,unit:"mb"}])}),[t]),Object(y.jsxs)("div",{className:"container p-2 pt-5 p-md-5",children:[Object(y.jsx)("div",{className:"d-flex flex-wrap justify-content-evenly justify-content-xxl-between align-items-center",children:t?[1,2,3,4,5].map((function(e){return Object(y.jsx)(I.a,{className:"m-2 mx-lg-1 p-3",width:120,height:160},e)})):c.map((function(e){return Object(y.jsx)(J,{day:e},e.id)}))}),Object(y.jsx)("div",{className:"my-3 mx-4 my-md-4 mx-md-0 fs-4 fw-bold text-light",children:"Today\u2019s Highlights"}),Object(y.jsx)("div",{className:"row text-center",children:t?[1,2,3,4].map((function(e){return Object(y.jsx)("div",{className:"col-12 col-md-6",children:Object(y.jsx)(I.a,{className:"my-3 mx-4 my-md-4 mx-md-0 p-3",width:370,height:200},e)},e)})):r.map((function(e,t){return Object(y.jsx)("div",{className:"col-12 col-md-6",children:Object(y.jsx)("div",{className:"card bg-dark my-3 mx-4 my-md-4 mx-md-0 p-3",style:"Humidity"===e.type||"Wind"===e.type?{height:"204px"}:{height:"160px"},children:Object(y.jsx)(q,Object(j.a)({},e))})},t)}))})]})},G=function(){var e=v(location),t=e.currentDay,a=e.forecast,s=e.isLoading,c=e.setLocation;return Object(y.jsx)(T.SkeletonTheme,{color:"#100E1D",highlightColor:"#444",children:Object(y.jsxs)("div",{className:"row g-0 text-light",children:[Object(y.jsx)("div",{className:"col-12 col-md-4 bg-dark bg-cloud",children:Object(y.jsx)(P,{isLoading:s,today:t,setLocation:c})}),Object(y.jsx)("div",{className:"col-12 col-md-8 bg-secondary p-0 p-xl-5",children:Object(y.jsx)(B,{isLoading:s,today:t,forecast:a})})]})})};a(51),a(50);n.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(G,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.40c6d06e.chunk.js.map